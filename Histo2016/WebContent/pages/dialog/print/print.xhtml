<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>Drucken</title>
	<h:outputStylesheet name="histo.css" value="histo.css" />
</h:head>

<c:set var="taskToPrint" value="#{pdfHandlerAction.taskToPrint}" />

<h:body styleClass="defaultDialogLayout bigDialog">
	<h:form id="dialogContent">
		<div class="defaulDilaogHeaderDivWithBackground">
			<h:panelGrid style="width:100%;" columns="2"
				styleClass="noBordersAll noPaddingAll collapsedBordersAll">
				<h:outputLabel value="#{msg['dialog.council.headline']}" />
				<p:commandLink title="#{msg['general.close']}" style="float:right;"
					styleClass="noUnderlineAtLink"
					onclick="$('#dialogContent\\:closeBtn').click();return false;">
					<i class="fa fa-fw fa-times" />
				</p:commandLink>
			</h:panelGrid>
		</div>

		<div class="contentDiv">
			<p:panelGrid style="width:100%" id="content"
				styleClass="noBordersAll noPaddingAll collapsedBordersAll printTable">

				<!-- headline -->
				<p:row styleClass="smallPaddingAll">
					<p:column>
						<p:selectOneButton value="#{pdfHandlerAction.printTab}">
							<f:selectItem
								itemLabel="Gespeichert (#{taskToPrint.attachedPdfs.size()})"
								itemValue="ATTACHED_PDFs" />
							<f:selectItem itemLabel="Neues Dokument" itemValue="PRINT_PDFs" />
							<p:ajax update="@form"
								listener="#{pdfHandlerAction.onChangeTemplate}"></p:ajax>
						</p:selectOneButton>
					</p:column>
					<p:column>
						<ui:fragment
							rendered="#{pdfHandlerAction.printTab eq 'ATTACHED_PDFs' and pdfHandlerAction.tmpPdfContainer ne null}">
							<h:outputLabel value="#{pdfHandlerAction.tmpPdfContainer.name}" style="font-weight:bold;"/>
						</ui:fragment>
					</p:column>
				</p:row>
				<!-- headline -->


				<p:row>
					<!-- PDF MENU -->
					<p:column styleClass="menuColumn">

						<!-- Attached Pdfs -->
						<h:panelGrid
							rendered="#{pdfHandlerAction.printTab eq 'ATTACHED_PDFs'}">


							<p:dataGrid var="pdf" style="width:100%"
								styleClass="attachedPDFTable"
								value="#{pdfHandlerAction.taskToPrint.attachedPdfs}" columns="1"
								layout="grid" rows="7" paginator="true" id="cars"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
								<p:commandLink styleClass="noUnderlineAtLink"
									actionListener="#{pdfHandlerAction.setTmpPdfContainer(pdf)}"
									update="@form">
									<p:panelGrid>
										<p:row>
											<p:column>
												<h:outputLabel value="Name" />
											</p:column>
											<p:column>
												<h:outputLabel value="#{pdf.name}" />
											</p:column>
										</p:row>
										<p:row>
											<p:column>
												<h:outputLabel value="Datum" />
											</p:column>
											<p:column>
												<h:outputLabel
													value="#{mainHandlerAction.date(pdf.creationDate,'GERMAN_DATE_TIME')}" />
											</p:column>
										</p:row>
										<p:row>
											<p:column>
												<h:outputLabel value="Typ" />
											</p:column>
											<p:column>
												<h:outputLabel value="#{pdf.type}" />
											</p:column>
										</p:row>
									</p:panelGrid>
								</p:commandLink>
							</p:dataGrid>
						</h:panelGrid>
						<!-- Attached Pdfs -->

						<!-- PDF Print -->
						<ui:fragment
							rendered="#{pdfHandlerAction.printTab eq 'PRINT_PDFs'}">
							<!-- template and printer select -->

							<p:panelGrid styleClass="smallPaddingAll" id="pdfMenuColumn"
								style="margin-left:5px; width:95%">

								<!-- Template select -->
								<p:row>
									<p:column style="padding-bottom:15px !important;">
										<h:outputLabel value="Dokument" />
									</p:column>
									<p:column style="padding-bottom:15px !important;">
										<p:selectOneMenu value="#{pdfHandlerAction.selectedTemplate}"
											style="width:80% !important;margin-left:5px;"
											converter="#{pdfHandlerAction.templateTransformer}"
											styleClass="customSerachSelectMenu">
											<f:selectItems value="#{pdfHandlerAction.templates}"
												var="template" itemLabel="#{msg[template.name]}"
												itemValue="#{template}" />

											<p:ajax update="@form"
												listener="#{pdfHandlerAction.onChangeTemplate()}"></p:ajax>
										</p:selectOneMenu>
									</p:column>
								</p:row>

								<!-- Printer -->
								<p:row>
									<p:column>
										<h:outputLabel value="Drucker" />
									</p:column>
									<p:column>
										<p:selectOneMenu styleClass="customSerachSelectMenu"
											style="width:80% !important;margin-left:5px;" disabled="true">
											<f:selectItem itemLabel="TODO" itemValue="0" />
										</p:selectOneMenu>
									</p:column>
								</p:row>
								<!-- Count of Prints -->
								<p:row>
									<p:column style="padding-bottom:35px !important;">
										<h:outputLabel value="Anzahl" />
									</p:column>
									<p:column style="padding-bottom:35px !important;">
										<p:spinner min="1" size="13" value="1" disabled="true"
											styleClass="taskSpinner" style="margin-left:5px;" />
									</p:column>
								</p:row>

								<!-- Council Options -->
								<p:row
									rendered="#{pdfHandlerAction.selectedTemplate.type eq 'COUNCIL'}">
									<p:column colspan="2" style="text-align: center;">
										<p:commandButton value="Konsil bearbeiten"
											icon="fa fa-fw fa-user-plus"
											actionListener="#{pdfHandlerAction.switchToCouncilDialog()}">
										</p:commandButton>
									</p:column>
								</p:row>
								<!-- Council Options -->

								<!-- Short report  -->
								<ui:fragment
									rendered="#{pdfHandlerAction.selectedTemplate.type  eq 'INTERNAL_SHORT'}">

									<!-- date -->
									<p:row>
										<p:column>

											<h:outputLabel value="Datum" />
										</p:column>
										<p:column>
											<p:calendar pattern="dd.MM.yyyy" mask="true"
												style="width:85% !important;margin-left:5px;"
												disabled="#{taskToPrint.diagnosisCompleted}"
												value="#{pdfHandlerAction.dateOfReportAsDate}">
												<p:ajax event="dateSelect" update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}" />
												<p:ajax event="change" update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}" />
											</p:calendar>
										</p:column>
									</p:row>
									<!-- date -->

									<!-- signature -->
									<p:row>
										<p:column>
											<h:outputLabel value="Unterschrift" />
										</p:column>
										<p:column>
											<p:selectOneMenu disabled="#{taskToPrint.diagnosisCompleted}"
												styleClass="customSerachSelectMenu"
												panelStyleClass="customSerachSelectMenuPanel"
												style="width:80% !important;margin-left:5px;"
												value="#{pdfHandlerAction.signatureTmpPhysician}"
												converter="#{taskHandlerAction.allAvailablePhysiciansTransformer}"
												filter="true" filterMatchMode="contains">

												<f:selectItem itemLabel="Unterschrift durch"
													itemValue="#{null}" />

												<f:selectItems
													value="#{taskHandlerAction.allAvailablePhysicians}"
													var="physician" itemLabel="#{physician.fullName}"
													itemValue="#{physician}" />

												<p:ajax update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}"></p:ajax>

											</p:selectOneMenu>
										</p:column>
									</p:row>
									<!-- signature -->

								</ui:fragment>
								<!-- Short report  -->

								<!-- normal report -->
								<ui:fragment
									rendered="#{pdfHandlerAction.selectedTemplate.type  eq 'INTERNAL'}">
									<!-- date -->
									<p:row>
										<p:column>

											<h:outputLabel value="Datum" />
										</p:column>
										<p:column>
											<p:calendar pattern="dd.MM.yyyy" mask="true"
												style="width:85% !important;margin-left:5px;"
												disabled="#{taskToPrint.diagnosisCompleted}"
												value="#{taskToPrint.report.signatureDateAsDate}">
												<p:ajax event="dateSelect"
													listener="#{mainHandlerAction.saveChangedData(taskToPrint.report,taskToPrint.patient,mainHandlerAction.replaceWildcard('log.patient.task.report.data.change.dateOfSignature',taskToPrint.taskID,taskToPrint.mainHandlerAction.date(taskToPrint.report.signatureDate)))}" />
												<p:ajax event="change" execute="@this"
													listener="#{mainHandlerAction.saveChangedData(taskToPrint.report,taskToPrint.patient,mainHandlerAction.replaceWildcard('log.patient.task.report.data.change.dateOfSignature',taskToPrint.taskID,taskToPrint.mainHandlerAction.date(taskToPrint.report.signatureDate)))}" />
											</p:calendar>
										</p:column>
									</p:row>
									<!-- date -->

									<!-- Physician -->
									<p:row>
										<p:column>
											<h:outputLabel value="Assistent" />
										</p:column>
										<p:column>
											<p:selectOneMenu disabled="#{taskToPrint.diagnosisCompleted}"
												styleClass="customSerachSelectMenu"
												panelStyleClass="customSerachSelectMenuPanel"
												style="width:80% !important;margin-left:5px;"
												value="#{taskHandlerAction.physicianToSign}"
												converter="#{taskHandlerAction.allAvailablePhysiciansTransformer}"
												filter="true" filterMatchMode="contains">
												<f:selectItem itemLabel="Arzt auswählen" itemValue="#{null}" />

												<f:selectItems
													value="#{taskHandlerAction.allAvailablePhysicians}"
													var="physician" itemLabel="#{physician.fullName}"
													itemValue="#{physician}" />

												<p:ajax event="change"
													onstart="$('#dialogContent\\:submitPhysicianChange').click();" />

											</p:selectOneMenu>
										</p:column>
									</p:row>
									<p:row>
										<p:column>
										</p:column>
										<p:column>
											<p:selectOneMenu styleClass="customSerachSelectMenu"
												id="pysicianToSignRole" editable="true"
												style="width:80% !important;margin-left:5px;"
												disabled="#{taskToPrint.report.physicianToSign.physician eq null or diagnosis.finalized}"
												value="#{taskToPrint.report.physicianToSign.role}">
												<f:selectItems value="#{enumProvider.signatureRoles}"
													var="signatureRole"
													itemLabel="#{msg['enum.signatureRole.'.concat(signatureRole)]}"
													itemValue="#{msg['enum.signatureRole.'.concat(signatureRole)]}" />
												<p:ajax event="change"
													onstart="$('#dialogContent\\:submitPhysicianRoleChange').click();" />
											</p:selectOneMenu>
										</p:column>
									</p:row>
									<!-- Physician -->

									<!-- consultant -->
									<p:row>
										<p:column>
											<h:outputLabel value="Oberarzt" />
										</p:column>
										<p:column>
											<p:selectOneMenu disabled="#{taskToPrint.diagnosisCompleted}"
												styleClass="customSerachSelectMenu"
												panelStyleClass="customSerachSelectMenuPanel"
												style="width:80% !important;margin-left:5px;"
												value="#{taskHandlerAction.consultantToSign}"
												converter="#{taskHandlerAction.allAvailablePhysiciansTransformer}"
												filter="true" filterMatchMode="contains">
												<f:selectItem itemLabel="Oberarzt auswählen"
													itemValue="#{null}" />

												<f:selectItems
													value="#{taskHandlerAction.allAvailablePhysicians}"
													var="physician" itemLabel="#{physician.fullName}"
													itemValue="#{physician}" />

												<p:ajax event="change"
													oncomplete="$('#dialogContent\\:submitConsultantChange').click();" />

											</p:selectOneMenu>
										</p:column>
									</p:row>
									<p:row>
										<p:column>
										</p:column>
										<p:column>
											<p:selectOneMenu styleClass="customSerachSelectMenu"
												id="consultantToSignRole" editable="true"
												style="width:80% !important;margin-left:5px;"
												disabled="#{taskToPrint.report.consultantToSign.physician eq null or diagnosis.finalized}"
												value="#{taskToPrint.report.consultantToSign.role}">
												<f:selectItems value="#{enumProvider.signatureRoles}"
													var="signatureRole"
													itemLabel="#{msg['enum.signatureRole.'.concat(signatureRole)]}"
													itemValue="#{msg['enum.signatureRole.'.concat(signatureRole)]}" />
												<p:ajax event="change"
													oncomplete="$('#dialogContent\\:submitConsultantRoleChange').click();" />
											</p:selectOneMenu>
										</p:column>
									</p:row>
									<!-- consultant -->

									<p:row>
										<p:column colspan="2">
											<!-- hidden button for updating on physician change -->
											<p:commandButton style="display:none" update="@form"
												id="submitPhysicianChange">
												<f:actionListener
													binding="#{taskToPrint.report.updatePhysiciansToSign(taskHandlerAction.physicianToSign,taskHandlerAction.consultantToSign)}"></f:actionListener>
												<f:actionListener
													binding="#{mainHandlerAction.saveChangedData(taskToPrint.report,taskToPrint.patient,mainHandlerAction.replaceWildcard('log.patient.task.report.data.change.physician',taskToPrint.taskID, (taskToPrint.report.physicianToSign.physician ne null ?  taskToPrint.report.physicianToSign.physician.fullName : '') ))}"></f:actionListener>
												<f:actionListener
													binding="#{pdfHandlerAction.onChangeTemplate()}"></f:actionListener>
											</p:commandButton>

											<!-- hidden button for updating on physician role change -->
											<p:commandButton style="display:none" update="@form"
												id="submitPhysicianRoleChange">
												<f:actionListener
													binding="#{mainHandlerAction.saveChangedData(taskToPrint.report,taskToPrint.patient,mainHandlerAction.replaceWildcard('log.patient.task.report.data.change.physician.role',taskToPrint.taskID, taskToPrint.report.physicianToSign.role ))}"></f:actionListener>
												<f:actionListener
													binding="#{pdfHandlerAction.onChangeTemplate()}"></f:actionListener>
											</p:commandButton>


											<!-- hidden button for updating on consultant change -->
											<p:commandButton style="display:none" update="@form"
												id="submitConsultantChange">
												<f:actionListener
													binding="#{taskToPrint.report.updatePhysiciansToSign(taskHandlerAction.physicianToSign,taskHandlerAction.consultantToSign)}"></f:actionListener>
												<f:actionListener
													binding="#{mainHandlerAction.saveChangedData(taskToPrint.report,taskToPrint.patient,mainHandlerAction.replaceWildcard('log.patient.task.report.data.change.consultant',taskToPrint.taskID, (taskToPrint.report.consultantToSign.physician ne null ?  taskToPrint.report.consultantToSign.physician.fullName : '') ))}"></f:actionListener>
												<f:actionListener
													binding="#{pdfHandlerAction.onChangeTemplate()}"></f:actionListener>
											</p:commandButton>

											<!-- hidden button for updating on consultant role change -->
											<p:commandButton style="display:none" update="@form"
												id="submitConsultantRoleChange">
												<f:actionListener
													binding="#{mainHandlerAction.saveChangedData(taskToPrint.report,taskToPrint.patient,mainHandlerAction.replaceWildcard('log.patient.task.report.data.change.consultant.role',taskToPrint.taskID, taskToPrint.report.physicianToSign.role ))}"></f:actionListener>
												<f:actionListener
													binding="#{pdfHandlerAction.onChangeTemplate()}"></f:actionListener>
											</p:commandButton>
										</p:column>
									</p:row>

								</ui:fragment>
								<!-- Short and normal report -->

								<!-- PDF Print -->
								<ui:fragment
									rendered="#{pdfHandlerAction.selectedTemplate.type  eq 'SHORT' or pdfHandlerAction.selectedTemplate.type  eq 'EXTERN'}">

									<!-- date -->
									<p:row>
										<p:column style="padding-bottom:35px !important;">
											<h:outputLabel value="Datum" />
										</p:column>
										<p:column style="padding-bottom:35px !important;">
											<p:calendar pattern="dd.MM.yyyy" mask="true"
												style="width:85% !important;margin-left:5px;"
												disabled="#{taskToPrint.diagnosisCompleted}"
												value="#{pdfHandlerAction.dateOfReportAsDate}">
												<p:ajax event="dateSelect" update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}" />
												<p:ajax event="change" update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}" />
											</p:calendar>
										</p:column>
									</p:row>
									<!-- date -->

									<!-- family physician -->
									<p:row>
										<p:column style="text-align: center;">
											<p:radioButton id="opt1" for="physicianSelect" itemIndex="0" />
										</p:column>
										<p:column>
											<h:outputLabel
												value="#{msg['enum.contactRole.FAMILY_PHYSICIAN']}"
												style="margin-left:5px;" />
											<p:commandLink
												title="#{msg['dialog.council.consultant.edit']}"
												rendered="#{!taskToPrint.diagnosisCompleted}"
												style="margin-right:10px;float:right;"
												styleClass="noUnderlineAtLink icon-grey"
												actionListener="#{settingsHandlerAction.prepareSettingsDialog('P_LIST')}">
												<i class="fa fa-fw fa-cog icon-grey" />
												<p:ajax event="dialogReturn" update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}" />
											</p:commandLink>
										</p:column>
									</p:row>
									<p:row
										rendered="#{taskToPrint.getPrimaryContact('FAMILY_PHYSICIAN') ne null}">
										<p:column>
										</p:column>
										<p:column>
											<h:outputLabel style="font-size:0.8em;margin-left:5px;"
												value="#{taskToPrint.getPrimaryContact('FAMILY_PHYSICIAN')}" />
										</p:column>
									</p:row>
									<!-- family physician -->

									<!-- private physician -->
									<p:row>
										<p:column style="text-align: center;">
											<p:radioButton id="opt2" for="physicianSelect" itemIndex="1" />
										</p:column>
										<p:column>
											<h:outputLabel
												value="#{msg['enum.contactRole.PRIVATE_PHYSICIAN']}"
												style="margin-left:5px;" />
											<p:commandLink
												title="#{msg['dialog.council.consultant.edit']}"
												rendered="#{!taskToPrint.diagnosisCompleted}"
												style="margin-right:10px;float:right;"
												styleClass="noUnderlineAtLink icon-grey"
												actionListener="#{settingsHandlerAction.prepareSettingsDialog('P_LIST')}">
												<i class="fa fa-fw fa-cog icon-grey" />
												<p:ajax event="dialogReturn" update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}" />
											</p:commandLink>
										</p:column>
									</p:row>
									<p:row
										rendered="#{taskToPrint.getPrimaryContact('PRIVATE_PHYSICIAN') ne null}">
										<p:column>
										</p:column>
										<p:column>
											<h:outputLabel style="font-size:0.8em;margin-left:5px;"
												value="#{taskToPrint.getPrimaryContact('PRIVATE_PHYSICIAN')}" />
										</p:column>
									</p:row>
									<!-- private physician -->

									<!-- Other Physician -->
									<p:row>
										<p:column style="text-align: center;">
											<p:radioButton id="opt3" for="physicianSelect" itemIndex="2" />
										</p:column>
										<p:column>
											<p:selectOneMenu disabled="#{taskToPrint.diagnosisCompleted}"
												styleClass="customSerachSelectMenu"
												panelStyleClass="customSerachSelectMenuPanel"
												style="width:80% !important;margin-left:5px;"
												value="#{pdfHandlerAction.externalPhysician}"
												converter="#{taskHandlerAction.allAvailablePhysiciansTransformer}"
												filter="true" filterMatchMode="contains">
												<f:selectItem itemLabel="Empfänger auswählen"
													itemValue="#{null}" />

												<f:selectItems
													value="#{taskHandlerAction.allAvailablePhysicians}"
													var="physician" itemLabel="#{physician.fullName}"
													itemValue="#{physician}" />

												<p:ajax update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}"></p:ajax>

											</p:selectOneMenu>
										</p:column>
									</p:row>
									<!-- Other Physician -->

									<!-- select menu -->
									<p:row>
										<p:column colspan="2" style="padding-bottom:35px !important;">
											<p:selectOneRadio id="physicianSelect"
												value="#{pdfHandlerAction.externalReportPhysicianType}"
												layout="custom">
												<f:selectItem
													itemLabel="#{msg['enum.contactRole.FAMILY_PHYSICIAN']}"
													itemValue="FAMILY_PHYSICIAN" />
												<f:selectItem
													itemLabel="#{msg['enum.contactRole.PRIVATE_PHYSICIAN']}"
													itemValue="PRIVATE_PHYSICIAN" />
												<f:selectItem itemLabel="#{msg['enum.contactRole.OTHER']}"
													itemValue="OTHER" />
												<p:ajax update="@form" event="change"
													listener="#{pdfHandlerAction.onChangeTemplate()}"></p:ajax>
											</p:selectOneRadio>
										</p:column>
									</p:row>
									<!-- select menu -->

									<!-- signature -->
									<p:row>
										<p:column>
											<h:outputLabel value="Unterschrift" />
										</p:column>
										<p:column>
											<p:selectOneMenu disabled="#{taskToPrint.diagnosisCompleted}"
												styleClass="customSerachSelectMenu"
												panelStyleClass="customSerachSelectMenuPanel"
												style="width:80% !important;margin-left:5px;"
												value="#{pdfHandlerAction.signatureTmpPhysician}"
												converter="#{taskHandlerAction.allAvailablePhysiciansTransformer}"
												filter="true" filterMatchMode="contains">

												<f:selectItem itemLabel="Unterschrift durch"
													itemValue="#{null}" />

												<f:selectItems
													value="#{taskHandlerAction.allAvailablePhysicians}"
													var="physician" itemLabel="#{physician.fullName}"
													itemValue="#{physician}" />

												<p:ajax update="@form"
													listener="#{pdfHandlerAction.onChangeTemplate()}"></p:ajax>

											</p:selectOneMenu>
										</p:column>
									</p:row>
									<!-- signature -->

								</ui:fragment>
							</p:panelGrid>
							<!-- template and printer select -->
						</ui:fragment>
						<!-- PDF Print -->
					</p:column>
					<!-- PDF MENU -->

					<!-- PDF View -->
					<p:column styleClass="pdfColumn">

						<h:panelGroup id="pdfRender">
							<p:media player="pdf" value="#{pdfHandlerAction.pdfContent}"
								width="100%" rendered="#{pdfHandlerAction.renderPDF}"
								height="500px"></p:media>

							<!-- Council create  -->
							<h:panelGrid
								rendered="#{pdfHandlerAction.selectedTemplate.type eq 'COUNCIL' and !pdfHandlerAction.renderPDF}">
								<h:outputLabel value="Kein Konsil vorhanden, Konsil erstellen?" />
							</h:panelGrid>
							<!-- Council create  -->

							<!-- external -->
							<h:panelGrid
								rendered="#{(pdfHandlerAction.selectedTemplate.type eq 'FAMILY_PHYSICIAN' or pdfHandlerAction.selectedTemplate.type eq 'PRIVATE_PHYSICIAN' ) and !pdfHandlerAction.renderPDF}">
								<h:outputLabel value="Kein Hausarzt ausgewähl!"
									rendered="#{pdfHandlerAction.selectedTemplate.type eq 'FAMILY_PHYSICIAN'}" />
								<h:outputLabel value="Kein Facharzt ausgewähl!"
									rendered="#{pdfHandlerAction.selectedTemplate.type eq 'PRIVATE_PHYSICIAN'}" />
								<p:commandButton value="Konsil bearbeiten" process="@form"
									icon="fa fa-fw fa-user-plus">
								</p:commandButton>
							</h:panelGrid>
							<!-- external -->

						</h:panelGroup>

					</p:column>
					<!-- PDF View -->
				</p:row>
			</p:panelGrid>
		</div>

		<div class="buttonContainer">
			<h:panelGrid columns="2" style="width:100%"
				styleClass="noBordersAll collapsedBordersAll noPaddingAll">
				<h:panelGrid columns="2">
					<p:commandButton value="Drucken" ajax="false" update="@form"
						styleClass="smallButton buttonLeftMarginInList"
						icon="ui-icon-arrowthick-1-s"
						actionListener="#{pdfHandlerAction.onPrintPDF()}">
						<p:fileDownload value="#{pdfHandlerAction.pdfContent}" />
					</p:commandButton>

					<p:commandButton value="#{msg['general.abort']}" id="closeBtn"
						styleClass="smallButton buttonLeftMarginInList"
						icon="fa fa-times-circle"
						actionListener="#{pdfHandlerAction.hidePrintDialog()}"></p:commandButton>
				</h:panelGrid>
			</h:panelGrid>
		</div>
	</h:form>
</h:body>
</html>